# Домашнее задание к занятию «Базы данных, их типы»

### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование этого репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
    - впишите вверху название занятия и ваши фамилию и имя;
    - в каждом задании добавьте решение в требуемом виде: текст/код/скриншоты/ссылка;
    - для корректного добавления скриншотов воспользуйтесь инструкцией [«Как вставить скриншот в шаблон с решением»](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md);
    - при оформлении используйте возможности языка разметки md. Коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md).
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`).
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы задавайте в чате учебной группы и/или в разделе «Вопросы по заданию» в личном кабинете.

Желаем успехов в выполнении домашнего задания.

---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM?
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3.* Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*  

---
### Ответ:  
1.1. Реляционная СУБД, например: PostgreSQL.  
1.1.* В PostgreSQL можно использовать индексы на основе хешей (hash index) или внешнее решение в зависимости от типа данных, например libsodium.  
1.2. Документо-ориентированная СУБД, Например: MongoDB.  
1.2.* Да. MongoDB — отлично подходит для выбора.  
1.3. Реляционная СУБД или документная.  
1.3.* Да — PostgreSQL из 1.1. Реализация: создать отдельную схему (schema) в той же базе, переиспользовать механизмы аутентификации, резервного копирования, мониторинга, не смешивать с финансовыми данными на уровне таблиц.  
1.4. Графовая СУБД.  
1.4.* Да, если закупки логически связаны с логистикой.  
1.5.* Технически — да, но практически — не рекомендуется, если компания маленькая можно обойтись PostgreSQL, если компания крупная с требованиями к надёжности, скорости и масштабируемости лучше использовать специализированные решения под задачи.  
---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*  

---
### Ответ:
2.1. Последовательность операций:  
- инициация пополнения пользователем;  
- аутентификация и проверка данных;  
- выбор и подтверждение платёжного метода;  
- списание средств с платёжного средства;  
- передача информации об успешном списании оператору связи;  
- зачисление средств на баланс телефона.  

2.1.* Последовательность операций:  
- наличие активного автоплатежа;  
- триггер для запуска автоплатежа;  
- автоматическая проверка данных и доступности средств;  
- автоматическое списание средств;  
- уведомление оператора связи о списании;  
- зачисление средств и уведомление пользователя.  
---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*  

---
### Ответ:
3.1. Преимущества:  
- Строгая схема данных и целостность;  
- Мощный и стандартизированный язык запросов (SQL);  
- Поддержка сложных транзакций;  
- Зрелость и надёжность экосистемы;  
- Легкость обеспечения нормализации данных.  
3.1.*  Преимущества:  
- масштабируемость без потери транзакций;  
- совместимость с SQL;  
- высокая доступность и отказоустойчивость;  
- автоматическое управление шардированием;  
- баланс между гибкостью и надёжностью.  
---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу
выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений*
здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*  
---
### Ответ:
Apache Spark в режиме in-memory
Почему:  
- in-memory вычисления: значительно быстрее классического Hadoop;  
- поддержка сложных вычислений, это критично при многоэтапной обработке;  
- интеграция с большинством СУБД и файловых систем;  
- поддержка SQL, потоковой обработки, машинного обучения;  
- эффективное управление ресурсами через YARN, Kubernetes.  



---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.