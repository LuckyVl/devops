# Домашнее задание к занятию «Файловые системы»


### Цель задания

В результате выполнения этого задания вы:

* научитесь работать с жёсткими и символьными ссылками,
* закрепите навык работы с файлами и каталогами,
* научитесь форматировать и монтировать разделы в ОС Linux.

### Инструкция к заданию

1. Домашнее задание выполните в [Google Docs](https://docs.google.com/) и отправьте на проверку ссылку на ваш документ в личном кабинете.
2. В названии файла введите корректное название лекции и ваши фамилию и имя.
3. Зайдите в «Настройки Доступа» и установите доступ «Просматривать могут все в интернете, у кого есть ссылка» согласно инструкции [«Как предоставить доступ к файлам и папкам на Google Диске»](https://support.google.com/docs/answer/2494822?hl=ru&co=GENIE.Platform%3DDesktop).
5. Скопируйте текст задания в свой Google Документ.
6. Выполните домашнее задание, запишите ответы и добавьте необходимые скриншоты.
7. Для проверки домашнего задания преподавателем прикрепите ссылку на документ в личном кабинете.
8. Любые вопросы по решению задач задавайте в чате учебной группы.



### Инструменты и дополнительные материалы, которые пригодятся для выполнения задания

1. [Cтатья про BTRFS](https://habr.com/ru/company/veeam/blog/458250/).
2. [Статья про монтирование](http://xgu.ru/wiki/%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5).


---

### Задание 1

1. Создайте каталог ~/test и в нём файл test_123 с любым содержимым.
2. Создайте символическую ссылку на каталог ~/test по пути /tmp/soft_link.
3. Используя ссылку /tmp/soft_link, скопируйте файл test_123 в каталог /tmp с тем же именем. Создайте жёсткую ссылку на файл /tmp/test_123 с именем /tmp/hard_link.

*Вопрос 1. Файл ~/test и /tmp/test_123 — это один и тот же файл (одинаковые inode)?*  

**Ответ:**  
![image](https://github.com/user-attachments/assets/abfa4f1d-e900-4c55-9ac9-0663d16d50f6)  
Нет, при копировании (cp) создаётся новый файл с новым inode, даже если содержимое идентично.  

*Вопрос 2. Файл /tmp/soft_link и /tmp/hard_link — это один и тот же файл (одинаковые inode)?*  

**Ответ:**  
![image](https://github.com/user-attachments/assets/0bbc130c-c62d-4cea-bb25-5f6cf5c3c24b)  
Нет, /tmp/soft_link — это символическая ссылка (отдельный файл, указывающий на путь), а /tmp/hard_link — жёсткая ссылка (тот же inode, что и у /tmp/test_123).  

*Вопрос 3. Файл /tmp/test_123 и /tmp/hard_link — это один и тот же файл (одинаковые inode)?*  

**Ответ:**  
![image](https://github.com/user-attachments/assets/cda15803-7b0a-4080-a7f1-eb9b184459b2)  
Да. Жёсткая ссылка (/tmp/hard_link) создаёт новое имя для того же inode, что и у исходного файла (/tmp/test_123).  

*Вопрос 4. Докажите, что одна из ссылок символическая, а другая жёсткая. Обязательно приложите к ответу скриншоты команд, которые иллюстрируют различия ссылок разного типа, или, если не уверены, ход решения задания.*  

**Ответ:**  
![image](https://github.com/user-attachments/assets/1095d20f-d03b-43c9-a5aa-699546d84c6c)  
Символ l в начале строки первого вывода и стрелка -> указывают на символическую ссылку  
Число 2 во втором выводе и отсутствие стрелки указывает на наличие жёстких ссылок

### Задание 2

1. Создайте файл `~/netology`.
2. Создайте каталог `~/netology/`.
3. Поместите файл `netology` в каталог `netology`.

*Какое или какие из трёх действий невозможно выполнить? Почему?*

**Ответ:**  
![image](https://github.com/user-attachments/assets/ffeab145-549d-4678-a64d-7aed4e7334af)  
Невозможно выполнить второе действие т.к. в одной директории не могут одновременно существовать файл и каталог с одинаковыми именами  
Невозможно выполнить третье действие т.к. каталог ~/netology/ не был создан (из-за конфликта имён)  

---

### Задание 3

1. Как посмотреть количество `inodes`?
2. В каких файловых системах не может возникнуть проблемы нехватки `inodes`?

*Запишите ответ в свободной форме.*

**Ответ:**  
![image](https://github.com/user-attachments/assets/2dbf29c2-3ae4-413f-badf-eae43b43e69d)  

Файловые системы без проблемы нехватки inodes:  
**Btrfs** - Динамически выделяет inodes  
**XFS** - Использует динамическое выделение inodes  
**ZFS** - Не имеет ограничений на количество inodes  
**ReiserFS** - Устаревшая, но в контексте динамических inodes применима 

---

### Задание 4

Задание не предполагает использования LVM.

1. Подключите к системе новый диск 3 Гб.
2. Создайте на диске один раздел размером 2 Гб.
3. Разметьте раздел как `xfs`.
4. Смонтируйте раздел по пути /mnt. Создайте любой файл на смонтированной файловой системе. Сделайте скриншот вывода команды df -hT.
5. Увеличьте раздел до 3 Гб.
6. Расширьте файловую систему на новое свободное пространство.
7. Убедитесь, что после всех манипуляций созданный вами файл остался внутри раздела и файловой системы.
8. Сделайте скриншот вывода команды df -hT.

*В качестве ответа приложите два сделанных скриншота.*  

**Коментарий:** - из за ограничейний облачной платформы не могу технически сделать диск меньше 10Гб.  

**Ответ:**  
![image](https://github.com/user-attachments/assets/43e91fab-89cb-43ce-9fe9-5c568433b7c4)  





## Задание со звёздочкой*
Дополнительное задание необязательно к выполнению и не повлияет на получение зачёта по этой домашней работе. Вы можете его выполнить, чтобы глубже разобраться в материале.

---

### Задание 5*

Создайте файловую систему `Btrfs` на двух дисках по 5 Гб каждый.

*Сколько места будет доступно для работы с файлами? Сколько места займут метаданные?*

----

### Правила приёма работы

В личном кабинете прикреплена ссылка на Google Документ с выполненным заданием.
В документе настроены права доступа «Просматривать могут все в интернете, у кого есть ссылка».

------

### Критерии оценивания

Зачёт: выполнены все задания, ответы даны в развёрнутой форме, в них нет противоречий и логических ошибок, приложены соответствующие скриншоты и файлы.

На доработку: задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
